<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Middle East - OpenGuessr Tips</title>
    <link rel="stylesheet" href="style.css">
    <script defer src="script.js"></script>
</head>

<body>
    <header>
        <h1>Middle East</h1>
        <nav>
            <a href="index.html">Home</a>
        </nav>
    </header>

    <main>
        <h2>Country Tips</h2>
        <details data-country="bahrain" id="bahrain-details">
            <summary>
                <div class="country-name">
                    <img src="flags/middle-east/bh.png" alt="Bahraini flag" class="country-flag">
                    Bahrain
                </div>
            </summary>
            <ul>
                <li><strong>Landscape:</strong> Mostly desert with coastal areas. Modern cities like Dubai and Abu Dhabi
                    feature
                    extensive urban development with skyscrapers and artificial islands.</li>
                <li><strong>Street View Coverage:</strong> Excellent in major cities and highways. Limited in desert
                    areas.</li>
                <li><strong>Road Signage:</strong>
                    <ul>
                        <li>Highways: "E" + number (e.g., E11, E311)</li>
                        <li>you can also see D and S in front of the number (e.g., D11, S311)</li>
                        <li>City roads: Often use "Street", "Road", "Avenue" in both Arabic and English</li>
                        <li>Speed limits clearly marked in km/h</li>
                    </ul>
                </li>
                <li><strong>Driving Side:</strong> Right.</li>
            </ul>
        </details>
        <details data-country="israel" id="israel-details">
            <summary>
                <div class="country-name">
                    <img src="flags/middle-east/il.png" alt="Israeli flag" class="country-flag">
                    Israel
                </div>
            </summary>
            <ul>
                <li><strong>Landscape:</strong> Flat desert peninsula with modern urban development in Doha. Extensive
                    construction and artificial islands.</li>
                <li><strong>Street View Coverage:</strong> Good in Doha and major highways. Limited in desert areas.
                </li>
                <li><strong>Road Signage:</strong>
                    <ul>
                        <li>Highways: from what i found there is only one highway with number (highway 5)and its marked
                            with just number </li>
                        <li>City roads: Use "Street", "Road", "Avenue" in both Arabic and English</li>
                        <li>Speed limits displayed in km/h</li>
                    </ul>
                </li>
                <li><strong>Driving Side:</strong> Right.</li>
            </ul>
        </details>
        <details data-country="jordan" id="jordan-details">
            <summary>
                <div class="country-name">
                    <img src="flags/middle-east/jo.png" alt="Jordanian flag" class="country-flag">
                    Jordan
                </div>
            </summary>
            <ul>
                <li><strong>Landscape:</strong> Desert plateau with mountains in the west. Ancient cities like Petra and
                    modern
                    Amman.</li>
                <li><strong>Street View Coverage:</strong> Good in major cities and tourist areas. Limited in remote
                    desert
                    regions.</li>
                <li><strong>Road Signage:</strong>
                    <ul>
                        <li>Highways: just number (e.g., 15, 35)</li>
                        <li>City roads: Use "Street", "Road", "Avenue" in both Arabic and English</li>
                        <li>Speed limits marked in km/h</li>
                    </ul>
                </li>
                <li><strong>Driving Side:</strong> Right.</li>
            </ul>
        </details>
        <details data-country="kuwait" id="kuwait-details">
            <summary>
                <div class="country-name">
                    <img src="flags/middle-east/kw.png" alt="Kuwaiti flag" class="country-flag">
                    Kuwait
                </div>
            </summary>
            <ul>
                <li><strong>Landscape:</strong> Hilly terrain with urban areas and agricultural land. Mix of modern and
                    traditional architecture.</li>
                <li><strong>Street View Coverage:</strong> Limited to major cities and roads. Many areas not covered.
                </li>
                <li><strong>Road Signage:</strong>
                    <ul>
                        <li>Roads: Often unnumbered or local names but must from covered roads have number</li>
                        <li>City streets: Use "Street", "Road" in Arabic and sometimes English</li>
                        <li>Speed limits shown in km/h</li>
                    </ul>
                </li>
                <li><strong>Driving Side:</strong> Right.</li>
            </ul>
        </details>
        <details data-country="lebanon" id="lebanon-details">
            <summary>
                <div class="country-name">
                    <img src="flags/middle-east/lb.png" alt="Lebanese flag" class="country-flag">
                    Lebanon
                </div>
            </summary>
            <ul>
                <li><strong>Landscape:</strong> Mediterranean coast, mountains, and fertile valleys. Modern Beirut with
                    mix of
                    traditional and contemporary architecture.</li>
                <li><strong>Street View Coverage:</strong> Good in major cities and coastal areas. Limited in
                    mountainous
                    regions.</li>
                <li><strong>Road Signage:</strong>
                    <ul>
                        <li>most of the roads are named with names of cities and towns</li>
                        <li>City roads: Use "Street", "Road", "Avenue" in both Arabic and French</li>
                        <li>Speed limits displayed in km/h</li>
                    </ul>
                </li>
                <li><strong>Driving Side:</strong> Right.</li>
            </ul>
        </details>
        <details data-country="oman" id="oman-details" >
            <summary>
                <div class="country-name">
                    <img src="flags/middle-east/om.png" alt="Omani flag" class="country-flag">
                    Oman
                </div>
            </summary>
            <ul>
                <li><strong>Landscape:</strong> Mountainous interior, coastal plains, and desert. Modern cities like
                    Muscat
                    feature traditional and contemporary architecture.</li>
                <li><strong>Street View Coverage:</strong> Good in major cities and highways. Limited in remote areas.
                </li>
                <li><strong>Road Signage:</strong>
                    <ul>
                        <li>Highways: just number (e.g., 1, 6) or you can see something like Muskat-Nizwa Rd (road
                            betwen muskat and nizwa)</li>
                        <li>City roads: Use "Street", "Road", "Avenue" in both Arabic and English</li>
                        <li>Speed limits shown in km/h</li>
                    </ul>
                </li>
                <li><strong>Driving Side:</strong> Right.</li>
            </ul>
        </details>
    </main>

    <footer>
        <p>&copy; 2025 jirkanedela â”‚ made with ChatGPT and Claude, checked by jirkanedela. If anything is wrong tell me
            on
            <a href="https://discord.gg/MhQTW5dn">DISCORD</a>
        </p>
    </footer>
    <script>
        // This function is for navigating to sections and highlighting on the target page
        function handlePageLoadAndHashNavigation() {
            const hash = window.location.hash;
            const urlParams = new URLSearchParams(window.location.search);
            const query = urlParams.get('q'); // Get the query from the URL parameter
    
            if (hash) {
              const element = document.querySelector(hash);
              if (element) {
                // Open details element if it's the target
                if (element.tagName.toLowerCase() === 'details') {
                  element.open = true;
                }
    
                // Scroll to the element smoothly
                element.scrollIntoView({ behavior: 'smooth', block: 'center' });
    
                // Highlight the matched text within the element if query is present
                if (query) {
                     highlightTextInElement(element, query);
                }
    
                // Add a class for temporary section highlighting (optional, can be styled)
                // element.classList.add('highlight-section');
                // setTimeout(() => {
                //   element.classList.remove('highlight-section');
                // }, 3000); // Highlight for 3 seconds
              }
            }
             // If there's a query but no hash, just highlight all occurrences on the page
             else if (query) {
                 highlightTextInElement(document.body, query);
             }
          }
    
        // Function to highlight text within a given element
        function highlightTextInElement(element, query) {
            if (!element || !query) return;
    
            const lowerCaseQuery = query.toLowerCase();
            const walker = document.createTreeWalker(element, NodeFilter.SHOW_TEXT, null, false);
    
            const textNodes = [];
            let node;
            while ((node = walker.nextNode())) {
                textNodes.push(node);
            }
    
            textNodes.forEach(textNode => {
                const parent = textNode.parentNode;
                // Avoid highlighting within script, style, or already marked elements
                if (!parent || parent.tagName === 'SCRIPT' || parent.tagName === 'STYLE' || parent.tagName === 'MARK') {
                    return;
                }
    
                const text = textNode.nodeValue;
                if (!text) return;
    
                const lowerCaseText = text.toLowerCase();
                let lastIndex = 0;
                const fragment = document.createDocumentFragment();
    
                let match;
                // Use a regular expression to find all occurrences, ensuring word boundaries or handling punctuation
                // This simple regex looks for the query string, adjust if needed for word boundaries
                const regex = new RegExp(lowerCaseQuery.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'gi'); // Case-insensitive global regex
    
                while ((match = regex.exec(lowerCaseText)) !== null) {
                    // Append text before the match
                    fragment.appendChild(document.createTextNode(text.substring(lastIndex, match.index)));
    
                    // Create and append the highlight element
                    const mark = document.createElement('mark');
                    mark.textContent = text.substring(match.index, regex.lastIndex);
                    fragment.appendChild(mark);
    
                    lastIndex = regex.lastIndex;
                }
    
                // Append remaining text after the last match
                fragment.appendChild(document.createTextNode(text.substring(lastIndex)));
    
                // Replace the original text node with the new fragment
                if (fragment.childNodes.length > 0) {
                    parent.replaceChild(fragment, textNode);
                }
            });
        }
    
        // Run this code when the page is fully loaded
        document.addEventListener('DOMContentLoaded', () => {
            handlePageLoadAndHashNavigation(); // Call the function to handle hash and highlighting on load
        });
    
        // Listen for hash changes within the same page
        window.addEventListener('hashchange', handlePageLoadAndHashNavigation);
    
        </script>
</body>

</html>